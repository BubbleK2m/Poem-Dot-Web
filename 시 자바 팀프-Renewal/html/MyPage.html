<html>
    <head>
        <title>마이페이지</title>
        <meta charset="utf-8">
        <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/moonspam/NanumSquare/master/nanumsquare.css">
        <link href = "../css/MyPage.css" type="text/css" rel = "stylesheet">
    </head>
    <body>
        <header>
            <div id = "mainLogo">Poem</div>
            <ul>
                <li><a id='mainPageLnk'>메인</a></li>
                <li><a id='myPageLnk'>마이페이지</a></li>
                <li><a id='logoutLnk'>로그아웃</a></li>
                <li><input type = "text" placeholder="검색어 입력" id='searchText'></li>
                <img src = "../imgs/searchImg.png" id = 'searchBtn' style = "margin-top:-4px">
            </ul>
        </header>
        
        <div id = "poemBack">
            <!-- 임시 3개 --> 
            <div class = "sliders">
                <h1>내 정보</h1>
                <div id = "profile"></div>
                
                <label for = "changeProfile">
                    <img src = "../imgs/change.png" id = "changePic">
                    <input type = "file" accept="image/*" id = "changeProfile" style = "display:none;">
                </label>
                
                
                <div class = "infos" id = "oneIntro">
                    한 줄 소개 : 
                    <span contenteditable="false" id = "content">
                        자랑스러운 대마인이 되겠습니다!
                    </span>
                    <img src = "../imgs/change.png" id = "changeImg">
                </div>
                <div class = "infos" id = "id">
                    아이디 : 
                    <span>
                        dongju
                    </span>
                </div>
                <div class = "infos" id = "nickname">
                    필명 : 
                    <span>
                        윤동주
                    </span>
                </div>
                <div class = "infos" id = "poemNum">
                    작성한 시 수 : 
                    <span>
                        17
                    </span>
                </div>
                <div class = "infos" id = "bookNum">
                    제작한 시집 수 : 
                    <span>
                        6
                    </span>
                </div>
            </div>
        </div>
        
        <h1>나의 시</h1>
        
        <!-- 제목 넣을거 생각못해서 padding-top으로 아래로 보냄 ㅜ ㅈㅅ -->
        <div id = 'poemsCover'>
        </div>  
        
        
        <div class = "poemBtnCover">
            <div class = "poemBtns" id = "createNewPoem">
                시 작성
            </div>
        </div>
        
        <h1>나의 시집</h1>
        
        <!-- 더 보기에서는 bookCover를 추가해야됌. --> 
        <div id = 'booksCover'>
            <!--<div class = "bookCover">
                <div class = "books">
                    <div class = "bookImgs">
                        <img src = "../imgs/book1.gif" class = "realImgs">
                    </div>
                    <div class = "bookEx">
                        <h1>길거리</h1>
                        <h2>유영</h2>
                        <h2>110 좋아요</h2>
                    </div>
                </div>
                
                <div class = "books">
                    <div class = "bookImgs">
                        <img src = "../imgs/book2.gif" class = "realImgs">
                    </div>
                    <div class = "bookEx">
                        <h1>방울 속으로</h1>
                        <h2>유영</h2>
                        <h2>65 좋아요</h2>
                    </div>
                </div>
            </div>
            <div class = "bookCover">  
                <div class = "books">
                    <div class = "bookImgs">
                        <img src = "../imgs/book3.gif" class = "realImgs">
                    </div>
                    <div class = "bookEx">
                        <h1>여유</h1>
                        <h2>유영</h2>
                        <h2>82 좋아요</h2>
                    </div>
                </div>
                
                <div class = "books">
                    <div class = "bookImgs">
                        <img src = "../imgs/book4.gif" class = "realImgs">
                    </div>
                    <div class = "bookEx">
                        <h1>식탁 위</h1>
                        <h2>유영</h2>
                        <h2>77 좋아요</h2>
                    </div>
                </div>
            </div>-->
        </div>
        
        <div class = "poemBtnCover" id = "bookBtnCover">
            <div class = "poemBtns" id = "createNewBook">
                시집 제작
            </div>
            <div class = "poemBtns" id = "seeMoreBook">
                더 보기
            </div>
        </div>
        
        <footer>
            (34111)대전광역시 유성구 가정북로 76(장동 23-9)<br>
            교무실 ☎ : 042-866-8822, 교무실 Fax : 042-867-9900, 행정실 ☎ : 042-866-8885, 행정실 Fax : 042-863-4308<br>
            사업자 등록 번호 314-83-01600 / 기관 메일 dsmhs@korea.kr<br>
            Copyright&#9400; 대덕소프트웨어마이스터고등학교. All rights reserved.<br>
        </footer>
        
        <script type = "text/javascript">
            let changeBtn = document.getElementById('changeImg');
            let content = document.getElementById('content');
            changeBtn.addEventListener('click', () => {
                content.setAttribute("contenteditable", "true");
                content.style.textDecoration = "underline";
            });
            
            content.onkeydown = (e) => {
                if (e.target.innerText.length >= 19) {
                    e.target.innerText = e.target.innerText.substring(0, 18);
                }
                
                if(e.keyCode == "13"){
                    content.setAttribute("contenteditable", "false");
                    content.style.textDecoration = defaultStatus;
                }
            }
            
            /* 클릭 시 이미지 변경 후 적용 */
            let uploadImg = document.getElementById('changeProfile'); //file
            let appendImg = document.getElementById('profile'); //willChange
            
            console.log("check");
            uploadImg.onchange = function (e) {
                e.preventDefault();
                
                let file = uploadImg.files[0],
                    reader = new FileReader();
                
                reader.onload = function (event){
                    let img = new Image();
                    img.src = event.target.result;
                    
//                    //이미지 크기
//                    if(img.width > 175){
//                        console.log("overflow!");
//                        img.width = 175;
//                    }
                    
                    appendImg.innerHTML = '';
                    appendImg.appendChild(img);
                    console.log(img);
                };
                reader.readAsDataURL(file);
                
                return false;
            };
        </script>
        <!--<script type = 'text/javascript' src='../js/MyPage.js'></script>-->
    </body>
</html>


